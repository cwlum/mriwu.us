<% layout('layout') -%>

<div class="card">
    <h5 class="card-title">Edit Portfolio Item</h5>
    <form action="/admin/portfolio/edit/<%= item.id %>" method="POST" enctype="multipart/form-data" class="form-card">
        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" class="form-control" value="<%= item.title %>" required>
        </div>
        <div class="form-group">
            <label for="category">Category</label>
            <input type="text" id="category" name="category" class="form-control" value="<%= item.category %>" required>
        </div>
        <div class="form-group">
            <label for="description">Description</label>
            <textarea id="description" name="description" class="form-control"><%= item.description %></textarea>
        </div>
        <div class="form-group">
            <label for="image">Current Image</label>
            <div>
                <img src="/<%= item.src %>" alt="<%= item.title %>" width="150">
                <input type="hidden" name="existingImage" value="<%= item.src %>">
            </div>
        </div>
        <div class="form-group">
            <label for="image">Upload New Image (optional)</label>
            <input type="file" id="image" name="image" class="form-control" accept="image/webp">
        </div>
        <button type="submit" class="btn btn-primary">Update Item</button>
        <a href="/admin/portfolio" class="btn">Cancel</a>
    </form>
</div>

<style>
    .form-card { padding: 20px; background-color: #2c2c2c; border-radius: 8px; }
    .form-control { width: 100%; padding: 10px; background-color: #333; color: #f0f0f0; border: 1px solid #555; border-radius: 4px; box-sizing: border-box; }
</style>
